<ng-container *transloco="let t">

    @if(isAuthenticated$ | async) {
    <p-toolbar>
        <ng-template #start>
            <div class="flex items-center gap-2">

                @for(action of actions; track action) {

                <p-button routerLink="{{action.route}}" severity="contrast" size="small">
                    {{ t(action.title) }}
                </p-button>

                }

                <p-button severity="contrast" size="small" type="button" routerLink="/about">
                    {{ t('menu.about') }}
                </p-button>
            </div>
        </ng-template>

        <ng-template #end>
            <div class="flex items-center gap-2">

                <select [formControl]="langCtrl" [attr.aria-label]="t('menu.language')">
                    @for (lang of availableLangs; track lang) {
                    <option [value]="lang">{{ lang }}</option>
                    }
                </select>

                <p-button severity="contrast" size="small" type="button" (click)="logout()">
                    {{ t('menu.logout') }}
                </p-button>
            </div>
        </ng-template>

    </p-toolbar>

    } @else {

    <p-toolbar>
        <ng-template #start>
            <div class="flex items-center gap-2">
                <p-button severity="contrast" size="small" type="button" routerLink="/">
                    {{ t('menu.home') }}
                </p-button>

                <p-button severity="contrast" size="small" type="button" routerLink="/about">
                    {{ t('menu.about') }}
                </p-button>

            </div>
        </ng-template>

        <ng-template #end>
            <div class="flex items-center gap-2">

                <select [formControl]="langCtrl" [attr.aria-label]="t('menu.language')">
                    @for (lang of availableLangs; track lang) {
                    <option [value]="lang">{{ lang }}</option>
                    }
                </select>

                <p-button severity="contrast" size="small" type="button" routerLink="/auth/login">
                    {{ t('menu.login') }}
                </p-button>
            </div>
        </ng-template>
    </p-toolbar>

    }
</ng-container>